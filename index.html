<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      // Replace G-XXXXXXXXXX with your actual GA4 measurement ID
      gtag('config', 'G-XXXXXXXXXX', {
        page_path: window.location.pathname,
        debug_mode: true
      });

      // Track custom events
      document.addEventListener('DOMContentLoaded', function() {
        // Track clicks on project links
        document.addEventListener('click', function(e) {
          if (e.target.matches('a[href*="github.com"]')) {
            gtag('event', 'click', {
              'event_category': 'Project',
              'event_label': e.target.href
            });
          }
        });

        // Track scroll depth
        let scrollDepthTriggered = {};
        window.addEventListener('scroll', function() {
          let scrollPercent = (window.scrollY + window.innerHeight) / document.documentElement.scrollHeight * 100;
          [25, 50, 75, 90].forEach(function(depth) {
            if (scrollPercent >= depth && !scrollDepthTriggered[depth]) {
              scrollDepthTriggered[depth] = true;
              gtag('event', 'scroll_depth', {
                'depth': depth + '%'
              });
            }
          });
        });
      });
    </script>
    <link rel="icon" type="image/svg+xml" href="/dev-portfolio/vite.svg" />
    <link rel="preload" as="image" href="/dev-portfolio/dev.jpg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Developer Portfolio</title>
    <script type="module" crossorigin src="/dev-portfolio/assets/index-a4124546.js"></script>
    <link rel="stylesheet" href="/dev-portfolio/assets/index-99f96ff2.css">
    <script>
      function fixImagePaths() {
        const basePath = '/dev-portfolio';
        const images = document.querySelectorAll('img');
        let profileImageFound = false;

        images.forEach(img => {
          if (img.src.includes('dev.jpg') || img.alt?.toLowerCase().includes('profile')) {
            profileImageFound = true;
            const newSrc = basePath + '/dev.jpg';
            
            // Only update if needed
            if (img.src !== newSrc) {
              img.onerror = function() {
                console.warn('Failed to load profile image:', newSrc);
                // Retry loading after a short delay
                setTimeout(() => {
                  img.src = newSrc + '?retry=' + new Date().getTime();
                }, 500);
              };
              img.src = newSrc;
            }
          }
        });

        if (!profileImageFound) {
          // Try again after a short delay if no profile image was found
          setTimeout(fixImagePaths, 500);
        }
      }

      // Initial load
      window.addEventListener('DOMContentLoaded', fixImagePaths);
      
      // Run again after React mount
      setTimeout(fixImagePaths, 1000);
      
      // Backup check
      window.addEventListener('load', fixImagePaths);
    </script>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
